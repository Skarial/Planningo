<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />

    <title>Planningo</title>
    <meta
      name="description"
      content="Planningo, gestion personnelle du planning de service"
    />

    <!-- PWA -->
    <meta name="theme-color" content="#0066ff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />

    <link rel="manifest" href="./manifest.webmanifest" />

    <!-- iOS icon -->
    <link rel="apple-touch-icon" href="./assets/icons/icon-192.png" />

    <!-- Favicon -->
    <link rel="icon" href="./assets/icons/icon-192.png" />

    <!-- Styles -->
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/tetribus.css" />
  </head>

  <body>
    <!-- APP ROOT : CONTENEUR FLEX GLOBAL -->
    <div id="app-root">
      <!-- BOUTON MENU (HORS FLUX) -->
      <button id="menu-toggle" aria-label="Menu" aria-expanded="false"></button>
      <button
        id="consult-toggle"
        aria-label="Consulter une date"
        title="Consulter une date"
      ></button>
      <div id="menu-overlay"></div>

                  <!-- MENU LATÉRAL (HORS FLUX) -->
      <nav id="side-menu" aria-hidden="true">
        <button id="menu-close" aria-label="Fermer le menu"></button>
        <div id="side-menu-scroll">
          <div class="menu-title">Menu</div>

          <div class="menu-section">
            <h3>Navigation</h3>

            <button data-action="home">
              <span class="menu-icon icon-day"></span>
              Mon planning
            </button>

            <button data-action="guided-month">
              <span class="menu-icon icon-guided"></span>
              Saisie guidée
            </button>

            <button data-action="exchanges">
              <span class="menu-icon icon-exchanges"></span>
              Échanges de service
            </button>

            <button id="menu-summary">
              <span class="menu-icon icon-summary"></span>
              Statistiques
            </button>

          </div>

          <div class="menu-section">
            <h3>Organisation</h3>

            <button id="menu-conges-periods">
              <span class="menu-icon icon-conges"></span>
              Congés & périodes
            </button>

            <button id="menu-suggestions">
              <span class="menu-icon icon-sliders"></span>
              Suggestions
            </button>
            
            <button id="menu-alarm" type="button">
              <span class="menu-icon icon-alarm"></span>
              Réveil intelligent <span class="menu-badge">Android</span>
            </button>
          </div>

          <div class="menu-section">
            <h3>Données</h3>

            <button id="menu-phone-change">
              <span class="menu-icon icon-phone"></span>
              Changement de téléphone
            </button>
          </div>

          <div class="menu-section">
            <h3>Extra</h3>

            <button data-action="tetribus">
              <span class="menu-icon icon-game"></span>
              Tetribus
            </button>
          </div>

          <div class="menu-section">
            <h3>Paramètres</h3>

            <button id="menu-reset" class="danger">
              <span class="menu-icon icon-reset"></span>
              Réinitialisation
            </button>
          </div>

          <div class="menu-section">
            <h3>À propos</h3>

            <button id="menu-feedback">
              <span class="menu-icon icon-feedback"></span>
              Suggestions / Améliorations
            </button>

            <button id="menu-legal">
              <span class="menu-icon icon-legal"></span>
              Mentions légales
            </button>
          </div>

        </div>
      </nav>

      <!-- CONTENU PRINCIPAL (SEUL FLUX FLEX) -->
      <main id="app-main">
        <section id="view-home"></section>
        <section id="view-edit-day" hidden></section>
        <section id="view-guided-month" hidden></section>
        <section id="view-conges-periods" hidden></section>
        <section id="view-conges" hidden></section>
        <section id="view-season" hidden></section>
        <section id="view-consult-date" hidden></section>
        <section id="view-reset" hidden></section>
        <section id="view-suggestions" hidden></section>
        <section id="view-feedback" hidden></section>
        <section id="view-summary" hidden></section>
        <section id="view-exchanges" hidden></section>
        <section id="view-alarm" hidden></section>
        <section id="view-phone-change" hidden></section>
        <section id="view-legal" hidden></section>
        <section id="view-tetribus" hidden></section>
      </main>
    </div>

    <!-- APP -->
    <script type="module" src="./js/app.js"></script>

    <script>
      document.addEventListener("contextmenu", function (e) {
        if (
          e.target.closest(".menu-long-press") ||
          e.target.closest("#view-tetribus")
        ) {
          e.preventDefault();
        }
      });

      document.addEventListener(
        "gesturestart",
        function (e) {
          e.preventDefault();
        },
        { passive: false }
      );

      document.addEventListener(
        "gesturechange",
        function (e) {
          e.preventDefault();
        },
        { passive: false }
      );

      document.addEventListener(
        "gestureend",
        function (e) {
          e.preventDefault();
        },
        { passive: false }
      );
    </script>
  </body>
</html>


